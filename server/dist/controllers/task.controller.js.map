{"version":3,"sources":["../../src/controllers/task.controller.ts"],"sourcesContent":["import { CreateTaskDto, UpdateTaskDto, UpdateTaskPositionDto } from '@/dtos/tasks.dto';\nimport { RequestWithUserId } from '@/interfaces/auth.interface';\nimport { TaskService } from '@/services/task.service';\nimport { Response, NextFunction } from 'express';\n\nexport class TaskController {\n  public taskService = new TaskService();\n\n  public getAllTasksOfUser = async (req: RequestWithUserId, res: Response, next: NextFunction) => {\n    try {\n      const userId: string = req.userId;\n      const findAllTasksData = await this.taskService.findAllTasksOfUser(userId);\n\n      res.status(200).json({ data: findAllTasksData, message: 'findAll' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public createTask = async (req: RequestWithUserId, res: Response, next: NextFunction) => {\n    try {\n      const userId: string = req.userId;\n      const taskData: CreateTaskDto = req.body;\n      const createTaskData = await this.taskService.createTask(userId, taskData);\n\n      res.status(201).json({ data: createTaskData, message: 'created' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public updateTask = async (req: RequestWithUserId, res: Response, next: NextFunction) => {\n    try {\n      const taskId: string = req.params.id;\n      const taskData: UpdateTaskDto = req.body;\n      const userId: string = req.userId;\n      const updateTaskData = await this.taskService.updateTask(taskId, userId, taskData);\n\n      res.status(200).json({ data: updateTaskData, message: 'updated' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public updateTaskPosition = async (req: RequestWithUserId, res: Response, next: NextFunction) => {\n    try {\n      const taskPositionData: UpdateTaskPositionDto = req.body;\n      const taskId: string = req.params.id;\n      const updateTaskData = await this.taskService.updateTaskPosition(taskId, taskPositionData);\n\n      res.status(200).json({ data: updateTaskData, message: 'updated' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public deleteTask = async (req: RequestWithUserId, res: Response, next: NextFunction) => {\n    try {\n      const taskId: string = req.params.id;\n      const userId: string = req.userId;\n      const deleteTaskData = await this.taskService.deleteTask(taskId, userId);\n\n      res.status(200).json({ data: deleteTaskData, message: 'deleted' });\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n"],"names":["TaskController","taskService","TaskService","getAllTasksOfUser","req","res","next","userId","findAllTasksData","findAllTasksOfUser","status","json","data","message","error","createTask","taskData","body","createTaskData","updateTask","taskId","params","id","updateTaskData","updateTaskPosition","taskPositionData","deleteTask","deleteTaskData"],"mappings":";;;;+BAKaA;;;eAAAA;;;6BAHe;;;;;;;;;;;;;;AAGrB,IAAA,AAAMA,iBAAN,MAAMA;;QACX,uBAAOC,eAAc,IAAIC,wBAAW;QAEpC,uBAAOC,qBAAoB,OAAOC,KAAwBC,KAAeC;YACvE,IAAI;gBACF,MAAMC,SAAiBH,IAAIG,MAAM;gBACjC,MAAMC,mBAAmB,MAAM,IAAI,CAACP,WAAW,CAACQ,kBAAkB,CAACF;gBAEnEF,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMJ;oBAAkBK,SAAS;gBAAU;YACpE,EAAE,OAAOC,OAAO;gBACdR,KAAKQ;YACP;QACF;QAEA,uBAAOC,cAAa,OAAOX,KAAwBC,KAAeC;YAChE,IAAI;gBACF,MAAMC,SAAiBH,IAAIG,MAAM;gBACjC,MAAMS,WAA0BZ,IAAIa,IAAI;gBACxC,MAAMC,iBAAiB,MAAM,IAAI,CAACjB,WAAW,CAACc,UAAU,CAACR,QAAQS;gBAEjEX,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMM;oBAAgBL,SAAS;gBAAU;YAClE,EAAE,OAAOC,OAAO;gBACdR,KAAKQ;YACP;QACF;QAEA,uBAAOK,cAAa,OAAOf,KAAwBC,KAAeC;YAChE,IAAI;gBACF,MAAMc,SAAiBhB,IAAIiB,MAAM,CAACC,EAAE;gBACpC,MAAMN,WAA0BZ,IAAIa,IAAI;gBACxC,MAAMV,SAAiBH,IAAIG,MAAM;gBACjC,MAAMgB,iBAAiB,MAAM,IAAI,CAACtB,WAAW,CAACkB,UAAU,CAACC,QAAQb,QAAQS;gBAEzEX,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMW;oBAAgBV,SAAS;gBAAU;YAClE,EAAE,OAAOC,OAAO;gBACdR,KAAKQ;YACP;QACF;QAEA,uBAAOU,sBAAqB,OAAOpB,KAAwBC,KAAeC;YACxE,IAAI;gBACF,MAAMmB,mBAA0CrB,IAAIa,IAAI;gBACxD,MAAMG,SAAiBhB,IAAIiB,MAAM,CAACC,EAAE;gBACpC,MAAMC,iBAAiB,MAAM,IAAI,CAACtB,WAAW,CAACuB,kBAAkB,CAACJ,QAAQK;gBAEzEpB,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMW;oBAAgBV,SAAS;gBAAU;YAClE,EAAE,OAAOC,OAAO;gBACdR,KAAKQ;YACP;QACF;QAEA,uBAAOY,cAAa,OAAOtB,KAAwBC,KAAeC;YAChE,IAAI;gBACF,MAAMc,SAAiBhB,IAAIiB,MAAM,CAACC,EAAE;gBACpC,MAAMf,SAAiBH,IAAIG,MAAM;gBACjC,MAAMoB,iBAAiB,MAAM,IAAI,CAAC1B,WAAW,CAACyB,UAAU,CAACN,QAAQb;gBAEjEF,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMe;oBAAgBd,SAAS;gBAAU;YAClE,EAAE,OAAOC,OAAO;gBACdR,KAAKQ;YACP;QACF;;AACF"}