{"version":3,"sources":["../../src/services/column.service.ts"],"sourcesContent":["import { HttpException } from '@/exceptions/HttpException';\nimport ColumnModel from '@/models/columns.model';\n\nexport class ColumnService {\n  public columns = ColumnModel;\n\n  public async findAllColumnsOfUser(userId: string) {\n    const findColumns = await this.columns.findAll({ where: { userId: userId }, order: [['createdAt', 'ASC']] });\n    return findColumns;\n  }\n\n  public async createColumn(userId: string, columnData: any) {\n    const createColumnData = await this.columns.create({ ...columnData, userId });\n    return createColumnData;\n  }\n\n  public async updateColumn(columnId: string, userId: string, columnData: any) {\n    const findColumn = await this.columns.findOne({ where: { id: columnId, userId: userId } });\n    if (!findColumn) throw new HttpException(404, `This column ${columnId} was not found`);\n\n    const updateColumnData = await this.columns.update({ ...columnData }, { where: { id: columnId } });\n    return updateColumnData;\n  }\n\n  public async deleteColumn(columnId: string, userId: string) {\n    const findColumn = await this.columns.findOne({ where: { id: columnId, userId: userId } });\n    if (!findColumn) throw new HttpException(404, `This column ${columnId} was not found`);\n\n    const deleteColumnData = await this.columns.destroy({ where: { id: columnId } });\n    return deleteColumnData;\n  }\n}\n"],"names":["ColumnService","findAllColumnsOfUser","userId","findColumns","columns","findAll","where","order","createColumn","columnData","createColumnData","create","updateColumn","columnId","findColumn","findOne","id","HttpException","updateColumnData","update","deleteColumn","deleteColumnData","destroy","ColumnModel"],"mappings":";;;;+BAGaA;;;eAAAA;;;+BAHiB;qEACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEjB,IAAA,AAAMA,gBAAN,MAAMA;IAGX,MAAaC,qBAAqBC,MAAc,EAAE;QAChD,MAAMC,cAAc,MAAM,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC;YAAEC,OAAO;gBAAEJ,QAAQA;YAAO;YAAGK,OAAO;gBAAC;oBAAC;oBAAa;iBAAM;aAAC;QAAC;QAC1G,OAAOJ;IACT;IAEA,MAAaK,aAAaN,MAAc,EAAEO,UAAe,EAAE;QACzD,MAAMC,mBAAmB,MAAM,IAAI,CAACN,OAAO,CAACO,MAAM,CAAC,wCAAKF;YAAYP;;QACpE,OAAOQ;IACT;IAEA,MAAaE,aAAaC,QAAgB,EAAEX,MAAc,EAAEO,UAAe,EAAE;QAC3E,MAAMK,aAAa,MAAM,IAAI,CAACV,OAAO,CAACW,OAAO,CAAC;YAAET,OAAO;gBAAEU,IAAIH;gBAAUX,QAAQA;YAAO;QAAE;QACxF,IAAI,CAACY,YAAY,MAAM,IAAIG,4BAAa,CAAC,KAAK,CAAC,YAAY,EAAEJ,SAAS,cAAc,CAAC;QAErF,MAAMK,mBAAmB,MAAM,IAAI,CAACd,OAAO,CAACe,MAAM,CAAC,mBAAKV,aAAc;YAAEH,OAAO;gBAAEU,IAAIH;YAAS;QAAE;QAChG,OAAOK;IACT;IAEA,MAAaE,aAAaP,QAAgB,EAAEX,MAAc,EAAE;QAC1D,MAAMY,aAAa,MAAM,IAAI,CAACV,OAAO,CAACW,OAAO,CAAC;YAAET,OAAO;gBAAEU,IAAIH;gBAAUX,QAAQA;YAAO;QAAE;QACxF,IAAI,CAACY,YAAY,MAAM,IAAIG,4BAAa,CAAC,KAAK,CAAC,YAAY,EAAEJ,SAAS,cAAc,CAAC;QAErF,MAAMQ,mBAAmB,MAAM,IAAI,CAACjB,OAAO,CAACkB,OAAO,CAAC;YAAEhB,OAAO;gBAAEU,IAAIH;YAAS;QAAE;QAC9E,OAAOQ;IACT;;QA1BA,uBAAOjB,WAAUmB,qBAAW;;AA2B9B"}